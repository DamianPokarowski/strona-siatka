<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <title>Terminarz</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link rel="stylesheet" href="style/style.css">
</head>
<body>

<div class="page-wrapper">

  <!-- Baner -->
  <header class="banner">
    <a href="index.html">
      <img src="materialy/img/logo.png" alt="Herb klubu" class="banner-logo-centered">
    </a>
  </header>

  <!-- Nawigacja -->
  <nav>
    <ul>
      <li><a href="index.html">Strona Główna</a></li>
      <li><a href="aktualnosci.html">Aktualności</a></li>
      <li class="dropdown">
        <a href="#">Nasz Klub <i class="fas fa-caret-down"></i></a>
        <ul class="dropdown-content">
          <li><a href="informacje.html">Informacje o klubie<img src="materialy/img/pilka.png" class="ball-icon" alt=""></a></li>
          <li><a href="kadra.html">Kadra<img src="materialy/img/pilka.png" class="ball-icon" alt=""></a></li>
          <li><a href="trofea.html">Trofea i osiągnięcia<img src="materialy/img/pilka.png" class="ball-icon" alt=""></a></li>
          <li><a href="zycie.html">Życie drużyny<img src="materialy/img/pilka.png" class="ball-icon" alt=""></a></li>
          <li><a href="wywiady.html">Wywiady<img src="materialy/img/pilka.png" class="ball-icon" alt=""></a></li>
        </ul>
      </li>
      <li><a href="siatkarski-bilgoraj.html">Siatkarski Biłgoraj</a></li>
      <li class="dropdown">
        <a href="#">Edukacja <i class="fas fa-caret-down"></i></a>
        <ul class="dropdown-content">
          <li><a href="technika.html">Technika<img src="materialy/img/pilka.png" class="ball-icon" alt=""></a></li>
          <li><a href="taktyka.html">Taktyka<img src="materialy/img/pilka.png" class="ball-icon" alt=""></a></li>
        </ul>
      </li>
      <li class="dropdown">
        <a href="#">Ciekawostki <i class="fas fa-caret-down"></i></a>
        <ul class="dropdown-content">
          <li><a href="historyjki.html">Historyjki<img src="materialy/img/pilka.png" class="ball-icon" alt=""></a></li>
          <li><a href="nietypowe.html">Nietypowe sytuacje<img src="materialy/img/pilka.png" class="ball-icon" alt=""></a></li>
          <li><a href="zaskakujace-fakty.html">Zaskakujące fakty<img src="materialy/img/pilka.png" class="ball-icon" alt=""></a></li>
        </ul>
      </li>
      <li><a href="kontakt.html">Kontakt</a></li>
    </ul>
  </nav>

  <!-- Główna zawartość -->
  <div class="container">
    <main class="main-content">
      <section class="terminarz-section">
        <h2 class="terminarz-heading">Terminarz wydarzeń</h2>

        <div id="calendar"></div>

        <div class="calendar-hint">Kliknij na <strong>miesiąc i rok</strong>, aby wybrać inny</div>

        <div class="month-year-select" id="monthYearSelect">
          <select id="selectMonth"></select>
          <select id="selectYear"></select>
          <button onclick="goToSelected()">Pokaż</button>
        </div>

        <div class="kalendarz-legenda">
          <div><span class="kolor mecz-domowy"></span> Mecz domowy</div>
          <div><span class="kolor mecz-wyjazdowy"></span> Mecz wyjazdowy</div>
          <div><span class="kolor wydarzenie"></span> Wydarzenie</div>
        </div>
      </section>
    </main>
  </div>

  <!-- Stopka -->
  <footer>
    <p>Znajdź nas na social mediach:</p>
    <div class="social-icons">
      <a href="https://www.facebook.com/profile.php?id=61571721072693" target="_blank"><i class="fab fa-facebook-f"></i></a>
      <a href="https://www.instagram.com/medyk_libero/" target="_blank"><i class="fab fa-instagram"></i></a>
    </div>
  </footer>

</div>

<!-- Kalendarz JS -->
<script>
  const events = {
    "2025-07-20": "domowy",
    "2025-07-25": "wydarzenie",
    "2025-08-02": "wyjazdowy",
    "2025-08-10": "wydarzenie"
  };

  let currentMonth = new Date().getMonth();
  let currentYear = new Date().getFullYear();

  function renderCalendar(month, year) {
    const calendar = document.getElementById("calendar");
    const today = new Date();
    const todayStr = `${today.getFullYear()}-${String(today.getMonth()+1).padStart(2, '0')}-${String(today.getDate()).padStart(2, '0')}`;

    const date = new Date(year, month);
    const daysInMonth = new Date(year, month + 1, 0).getDate();
    const startDay = new Date(year, month, 1).getDay();

    let html = `
      <div class="calendar-header">
        <div class="calendar-arrow" onclick="changeMonth(-1)">&#10094;</div>
        <div class="calendar-month-label" onclick="toggleSelect()">${date.toLocaleString('pl-PL', { month: 'long', year: 'numeric' })}</div>
        <div class="calendar-arrow" onclick="changeMonth(1)">&#10095;</div>
      </div>
      <div class="calendar-grid">`;

    const days = ['Nd', 'Pn', 'Wt', 'Śr', 'Cz', 'Pt', 'Sb'];
    days.forEach(day => {
      html += `<div class="calendar-day-name">${day}</div>`;
    });

    for (let i = 0; i < startDay; i++) {
      html += `<div class="calendar-day empty"></div>`;
    }

    for (let day = 1; day <= daysInMonth; day++) {
      const fullDate = `${year}-${String(month + 1).padStart(2, '0')}-${String(day).padStart(2, '0')}`;
      let eventClass = '';
      if (events[fullDate] === 'domowy') eventClass = 'mecz-domowy';
      else if (events[fullDate] === 'wyjazdowy') eventClass = 'mecz-wyjazdowy';
      else if (events[fullDate] === 'wydarzenie') eventClass = 'wydarzenie';
      if (fullDate === todayStr) eventClass += ' dzisiaj';

      html += `<div class="calendar-day ${eventClass}">${day}</div>`;
    }

    html += '</div>';
    calendar.innerHTML = html;
  }

  function changeMonth(offset) {
    currentMonth += offset;
    if (currentMonth < 0) {
      currentMonth = 11;
      currentYear--;
    } else if (currentMonth > 11) {
      currentMonth = 0;
      currentYear++;
    }
    renderCalendar(currentMonth, currentYear);
  }

  function toggleSelect() {
    const box = document.getElementById("monthYearSelect");
    box.style.display = box.style.display === "block" ? "none" : "block";
  }

  function goToSelected() {
    const selectedMonth = parseInt(document.getElementById("selectMonth").value);
    const selectedYear = parseInt(document.getElementById("selectYear").value);
    currentMonth = selectedMonth;
    currentYear = selectedYear;
    renderCalendar(currentMonth, currentYear);
    toggleSelect();
  }

  document.addEventListener("DOMContentLoaded", () => {
    renderCalendar(currentMonth, currentYear);

    const monthNames = [
      "Styczeń", "Luty", "Marzec", "Kwiecień", "Maj", "Czerwiec",
      "Lipiec", "Sierpień", "Wrzesień", "Październik", "Listopad", "Grudzień"
    ];

    const selectMonth = document.getElementById("selectMonth");
    monthNames.forEach((name, index) => {
      const opt = document.createElement("option");
      opt.value = index;
      opt.textContent = name;
      if (index === currentMonth) opt.selected = true;
      selectMonth.appendChild(opt);
    });

    const selectYear = document.getElementById("selectYear");
    for (let y = 2025; y <= 2030; y++) {
      const opt = document.createElement("option");
      opt.value = y;
      opt.textContent = y;
      if (y === currentYear) opt.selected = true;
      selectYear.appendChild(opt);
    }
  });
</script>

</body>
</html>
